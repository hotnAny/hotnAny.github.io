var XAC = XAC || {};

XAC.Const = {};

XAC.EPSILON = 1e-6;
XAC.INFINITY = 1e9;

// some common visual properties
XAC.COLORNORMAL = 0xDB5B8A; // the normal color
XAC.COLORCONTRAST = 0xD1D6E7; // is the contrast of the COLORNORMAL
XAC.COLORHIGHLIGHT = 0xfffa90;
XAC.COLORFOCUS = 0xE82C0C; // color to really draw users' focus
XAC.COLORALT = 0x222222;

XAC.BACKGROUNDCOLOR = 0xF2F0F0;
XAC.GROUNDCOLOR = 0xF2F0F0;
XAC.GRIDCOLOR = 0xbbbbbb;

XAC.MATERIALNORMAL = new THREE.MeshPhongMaterial({
    color: XAC.COLORNORMAL,
    transparent: true,
    opacity: 0.75
});

XAC.MATERIALCONTRAST = new THREE.MeshBasicMaterial({
    color: XAC.COLORCONTRAST,
    transparent: true,
    opacity: 0.75
});

XAC.MATERIALHIGHLIGHT = new THREE.MeshPhongMaterial({
    color: XAC.COLORHIGHLIGHT,
    transparent: true,
    opacity: 0.95
});

XAC.MATERIALINVISIBLE = new THREE.MeshBasicMaterial({
    vertexColors: 0xffffff,
    transparent: true,
    visible: false
});

XAC.MATERIALPLAIN = new THREE.MeshBasicMaterial({
    vertexColors: 0xffffff,
    transparent: true,
    opacity: 0.75
});

XAC.MATERIALFOCUS = new THREE.MeshPhongMaterial({
    color: XAC.COLORFOCUS,
    transparent: true,
    opacity: 0.95
});

XAC.MATERIALALT = new THREE.MeshBasicMaterial({
    color: XAC.COLORALT,
    transparent: true,
    opacity: 0.75
});

XAC.MATERIALWIRE = new THREE.MeshBasicMaterial({
    color: XAC.COLORALT,
    transparent: true,
    wireframe: true,
    opacity: 0.75
});


// TEMP: for testing on the playground
// var gVoxelGrid;
// var gMedialAxis;
// var gVisualizer;

var idxt, mi1, mi2, mili, mimt;
var dfmts = [];
var df1 = [
    [
        [12],
        [12],
        [12],
        [12],
        [12],
        [12],
        [12],
        [11],
        [11],
        [11],
        [10],
        [9],
        [8],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0],
        [0],
        [1],
        [2],
        [3]
    ],
    [
        [11],
        [11],
        [11],
        [11],
        [11],
        [11],
        [11],
        [10],
        [10],
        [11],
        [10],
        [9],
        [8],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0],
        [1],
        [2],
        [3],
        [4]
    ],
    [
        [10],
        [10],
        [10],
        [10],
        [10],
        [10],
        [10],
        [9],
        [9],
        [10],
        [9],
        [8],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5]
    ],
    [
        [9],
        [9],
        [9],
        [9],
        [9],
        [9],
        [9],
        [8],
        [8],
        [9],
        [8],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6]
    ],
    [
        [8],
        [8],
        [8],
        [8],
        [8],
        [8],
        [8],
        [7],
        [7],
        [8],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [2],
        [1],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6]
    ],
    [
        [7],
        [7],
        [7],
        [7],
        [7],
        [7],
        [7],
        [6],
        [6],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [1],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7]
    ],
    [
        [6],
        [6],
        [6],
        [6],
        [6],
        [6],
        [6],
        [5],
        [5],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7],
        [8]
    ],
    [
        [5],
        [5],
        [5],
        [5],
        [5],
        [5],
        [5],
        [4],
        [4],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7],
        [8],
        [9]
    ],
    [
        [4],
        [4],
        [4],
        [4],
        [4],
        [4],
        [4],
        [3],
        [3],
        [4],
        [3],
        [2],
        [1],
        [0],
        [1],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7],
        [8],
        [9],
        [10]
    ],
    [
        [3],
        [3],
        [3],
        [3],
        [3],
        [3],
        [3],
        [2],
        [2],
        [3],
        [3],
        [2],
        [1],
        [1],
        [2],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7],
        [8],
        [9],
        [10],
        [11]
    ],
    [
        [2],
        [2],
        [2],
        [2],
        [2],
        [2],
        [2],
        [1],
        [1],
        [2],
        [2],
        [1],
        [0],
        [1],
        [1],
        [2],
        [3],
        [3],
        [4],
        [5],
        [6],
        [7],
        [8],
        [9],
        [10]
    ],
    [
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [0],
        [0],
        [1],
        [2],
        [2],
        [1],
        [0],
        [0],
        [1],
        [2],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7],
        [8],
        [9]
    ],
    [
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [1],
        [2],
        [3],
        [3],
        [2],
        [1],
        [1],
        [0],
        [1],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7],
        [8]
    ],
    [
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [2],
        [3],
        [4],
        [4],
        [3],
        [2],
        [2],
        [1],
        [0],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7]
    ],
    [
        [2],
        [2],
        [2],
        [2],
        [2],
        [2],
        [2],
        [2],
        [3],
        [4],
        [5],
        [5],
        [4],
        [3],
        [3],
        [2],
        [1],
        [0],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6]
    ],
    [
        [3],
        [3],
        [3],
        [3],
        [3],
        [3],
        [3],
        [3],
        [4],
        [5],
        [6],
        [6],
        [5],
        [4],
        [4],
        [3],
        [2],
        [1],
        [1],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5]
    ],
    [
        [4],
        [4],
        [4],
        [4],
        [4],
        [4],
        [4],
        [4],
        [5],
        [6],
        [7],
        [7],
        [6],
        [5],
        [5],
        [4],
        [3],
        [2],
        [2],
        [1],
        [0],
        [1],
        [2],
        [3],
        [4]
    ],
    [
        [5],
        [5],
        [5],
        [5],
        [5],
        [5],
        [5],
        [5],
        [6],
        [7],
        [8],
        [8],
        [7],
        [6],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0],
        [0],
        [1],
        [2],
        [3]
    ],
    [
        [6],
        [6],
        [6],
        [6],
        [6],
        [6],
        [6],
        [6],
        [7],
        [8],
        [9],
        [9],
        [8],
        [7],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [1],
        [0],
        [1],
        [2]
    ],
    [
        [7],
        [7],
        [7],
        [7],
        [7],
        [7],
        [7],
        [7],
        [8],
        [9],
        [10],
        [10],
        [9],
        [8],
        [8],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [2],
        [1],
        [0],
        [1]
    ],
    [
        [8],
        [8],
        [8],
        [8],
        [8],
        [8],
        [8],
        [8],
        [9],
        [10],
        [11],
        [11],
        [10],
        [9],
        [9],
        [8],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0],
        [1]
    ],
    [
        [9],
        [9],
        [9],
        [9],
        [9],
        [9],
        [9],
        [9],
        [10],
        [11],
        [12],
        [12],
        [11],
        [10],
        [10],
        [9],
        [8],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0]
    ],
    [
        [10],
        [10],
        [10],
        [10],
        [10],
        [10],
        [10],
        [10],
        [11],
        [12],
        [13],
        [13],
        [12],
        [11],
        [10],
        [9],
        [8],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0]
    ],
    [
        [11],
        [11],
        [11],
        [11],
        [11],
        [11],
        [11],
        [11],
        [12],
        [13],
        [14],
        [13],
        [12],
        [11],
        [10],
        [9],
        [8],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0]
    ]
];

var df2 = [
    [
        [12],
        [13],
        [13],
        [12],
        [12],
        [12],
        [12],
        [11],
        [11],
        [11],
        [10],
        [9],
        [8],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0],
        [0],
        [1],
        [2],
        [3]
    ],
    [
        [11],
        [12],
        [12],
        [11],
        [11],
        [11],
        [11],
        [10],
        [10],
        [11],
        [10],
        [9],
        [8],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0],
        [1],
        [2],
        [3],
        [4]
    ],
    [
        [10],
        [11],
        [11],
        [10],
        [10],
        [10],
        [10],
        [9],
        [9],
        [10],
        [9],
        [8],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5]
    ],
    [
        [9],
        [10],
        [10],
        [9],
        [9],
        [9],
        [9],
        [8],
        [8],
        [9],
        [8],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6]
    ],
    [
        [8],
        [9],
        [9],
        [8],
        [8],
        [8],
        [8],
        [7],
        [7],
        [8],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [2],
        [1],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6]
    ],
    [
        [7],
        [8],
        [8],
        [7],
        [7],
        [7],
        [7],
        [6],
        [6],
        [7],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [1],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7]
    ],
    [
        [6],
        [7],
        [7],
        [6],
        [6],
        [6],
        [6],
        [5],
        [5],
        [6],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7],
        [8]
    ],
    [
        [5],
        [6],
        [6],
        [5],
        [5],
        [5],
        [5],
        [4],
        [4],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7],
        [8],
        [9]
    ],
    [
        [4],
        [5],
        [5],
        [4],
        [4],
        [4],
        [4],
        [3],
        [3],
        [4],
        [3],
        [2],
        [1],
        [0],
        [1],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7],
        [8],
        [9],
        [10]
    ],
    [
        [3],
        [4],
        [4],
        [3],
        [3],
        [3],
        [3],
        [2],
        [2],
        [3],
        [3],
        [2],
        [1],
        [1],
        [2],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7],
        [8],
        [9],
        [10],
        [11]
    ],
    [
        [2],
        [3],
        [3],
        [2],
        [2],
        [2],
        [2],
        [1],
        [1],
        [2],
        [2],
        [1],
        [0],
        [1],
        [1],
        [2],
        [3],
        [3],
        [4],
        [5],
        [6],
        [7],
        [8],
        [9],
        [10]
    ],
    [
        [1],
        [2],
        [2],
        [1],
        [1],
        [1],
        [1],
        [0],
        [0],
        [1],
        [2],
        [2],
        [1],
        [0],
        [0],
        [1],
        [2],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7],
        [8],
        [9]
    ],
    [
        [0],
        [1],
        [1],
        [0],
        [0],
        [0],
        [0],
        [0],
        [1],
        [2],
        [3],
        [3],
        [2],
        [1],
        [1],
        [0],
        [1],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7],
        [8]
    ],
    [
        [1],
        [2],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [2],
        [3],
        [4],
        [4],
        [3],
        [2],
        [2],
        [1],
        [0],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6],
        [7]
    ],
    [
        [2],
        [1],
        [0],
        [1],
        [2],
        [2],
        [2],
        [2],
        [3],
        [4],
        [5],
        [5],
        [4],
        [3],
        [3],
        [2],
        [1],
        [0],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5],
        [6]
    ],
    [
        [2],
        [1],
        [0],
        [0],
        [1],
        [1],
        [2],
        [3],
        [4],
        [4],
        [5],
        [5],
        [5],
        [4],
        [4],
        [3],
        [2],
        [1],
        [1],
        [0],
        [1],
        [2],
        [3],
        [4],
        [5]
    ],
    [
        [3],
        [2],
        [1],
        [1],
        [0],
        [0],
        [1],
        [2],
        [3],
        [3],
        [4],
        [4],
        [5],
        [5],
        [5],
        [4],
        [3],
        [2],
        [2],
        [1],
        [0],
        [1],
        [2],
        [3],
        [4]
    ],
    [
        [4],
        [3],
        [2],
        [2],
        [1],
        [0],
        [1],
        [1],
        [2],
        [2],
        [3],
        [3],
        [4],
        [4],
        [5],
        [5],
        [4],
        [3],
        [2],
        [1],
        [0],
        [0],
        [1],
        [2],
        [3]
    ],
    [
        [5],
        [4],
        [3],
        [3],
        [2],
        [1],
        [0],
        [0],
        [1],
        [1],
        [2],
        [2],
        [3],
        [3],
        [4],
        [4],
        [4],
        [4],
        [3],
        [2],
        [1],
        [1],
        [0],
        [1],
        [2]
    ],
    [
        [6],
        [5],
        [4],
        [4],
        [3],
        [2],
        [1],
        [0],
        [0],
        [0],
        [1],
        [1],
        [2],
        [2],
        [3],
        [3],
        [3],
        [3],
        [3],
        [3],
        [2],
        [2],
        [1],
        [0],
        [1]
    ],
    [
        [7],
        [6],
        [5],
        [5],
        [4],
        [3],
        [2],
        [1],
        [1],
        [1],
        [0],
        [0],
        [1],
        [1],
        [2],
        [2],
        [2],
        [2],
        [2],
        [2],
        [2],
        [2],
        [1],
        [0],
        [1]
    ],
    [
        [8],
        [7],
        [6],
        [6],
        [5],
        [4],
        [3],
        [2],
        [2],
        [2],
        [1],
        [1],
        [0],
        [0],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1]
    ],
    [
        [9],
        [8],
        [7],
        [7],
        [6],
        [5],
        [4],
        [3],
        [3],
        [3],
        [2],
        [2],
        [1],
        [1],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [1],
        [0]
    ],
    [
        [10],
        [9],
        [8],
        [8],
        [7],
        [6],
        [5],
        [4],
        [4],
        [4],
        [3],
        [3],
        [2],
        [2],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [0]
    ]
];
